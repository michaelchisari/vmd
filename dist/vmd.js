// FINAL

// 00.vmd.resets.css
$("body").append("<style>#vmd .ui *,#vmd .ui :before,#vmd .ui :after{box-sizing:border-box}#vmd .ui input[type=text],#vmd .ui input[type=email],#vmd .ui input[type=search],#vmd .ui input[type=password]{-webkit-appearance:none;-moz-appearance:none}/*! normalize.css v3.0.1 | MIT License | git.io/normalize *//*! normalize.css v3.0.1 | MIT License | git.io/normalize */#vmd .ui{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#vmd .ui body{margin:0}#vmd .ui article,#vmd .ui aside,#vmd .ui details,#vmd .ui figcaption,#vmd .ui figure,#vmd .ui footer,#vmd .ui header,#vmd .ui hgroup,#vmd .ui main,#vmd .ui nav,#vmd .ui section,#vmd .ui summary{display:block}#vmd .ui audio,#vmd .ui canvas,#vmd .ui progress,#vmd .ui video{display:inline-block;vertical-align:baseline}#vmd .ui audio:not([controls]){display:none;height:0}#vmd .ui [hidden],#vmd .ui template{display:none}#vmd .ui a{background:0 0}#vmd .ui a:active,#vmd .ui a:hover{outline:0}#vmd .ui abbr[title]{border-bottom:1px dotted}#vmd .ui b,#vmd .ui strong{font-weight:700}#vmd .ui dfn{font-style:italic}#vmd .ui h1{font-size:2em;margin:.67em 0}#vmd .ui mark{background:#ff0;color:#000}#vmd .ui small{font-size:80%}#vmd .ui sub,#vmd .ui sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#vmd .ui sup{top:-.5em}#vmd .ui sub{bottom:-.25em}#vmd .ui img{border:0}#vmd .ui svg:not(:root){overflow:hidden}#vmd .ui figure{margin:1em 40px}#vmd .ui hr{box-sizing:content-box;height:0}#vmd .ui pre{overflow:auto}#vmd .ui code,#vmd .ui kbd,#vmd .ui pre,#vmd .ui samp{font-family:monospace,monospace;font-size:1em}#vmd .ui button{overflow:visible}#vmd .ui button,#vmd .ui select{text-transform:none}#vmd .ui button,#vmd .ui html input[type=button],#vmd .ui input[type=reset],#vmd .ui input[type=submit]{-webkit-appearance:button;cursor:pointer}#vmd .ui button[disabled],#vmd .ui html input[disabled]{cursor:default}#vmd .ui button::-moz-focus-inner,#vmd .ui input::-moz-focus-inner{border:0;padding:0}#vmd .ui input{line-height:normal}#vmd .ui input[type=checkbox],#vmd .ui input[type=radio]{box-sizing:border-box;padding:0}#vmd .ui input[type=number]::-webkit-inner-spin-button,#vmd .ui input[type=number]::-webkit-outer-spin-button{height:auto}#vmd .ui input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}#vmd .ui input[type=search]::-webkit-search-cancel-button,#vmd .ui input[type=search]::-webkit-search-decoration{-webkit-appearance:none}#vmd .ui fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}#vmd .ui legend{border:0;padding:0}#vmd .ui textarea{overflow:auto}#vmd .ui optgroup{font-weight:700}#vmd .ui table{border-collapse:collapse;border-spacing:0}#vmd .ui td,#vmd .ui th{padding:0}#vmd .ui *,#vmd .ui :before,#vmd .ui :after{box-sizing:border-box}#vmd .ui html,#vmd .ui body{height:100%}#vmd .ui html{font-size:14px}#vmd .ui body{margin:0;padding:0;min-width:278px;background:#f7f7f7;font-family:Lato,'Helvetica Neue',Arial,Helvetica,sans-serif;font-size:14px;line-height:1.33;color:rgba(0,0,0,.8);font-smoothing:antialiased}#vmd .ui h1,#vmd .ui h2,#vmd .ui h3,#vmd .ui h4,#vmd .ui h5{line-height:1.33em;margin:-webkit-calc(2rem - .165em) 0 1rem;margin:calc(2rem - .165em) 0 1rem;font-weight:700;padding:0}#vmd .ui h1{min-height:1rem;font-size:2rem}#vmd .ui h2{font-size:1.714rem}#vmd .ui h3{font-size:1.28rem}#vmd .ui h4{font-size:1.071rem}#vmd .ui h5{font-size:1rem}#vmd .ui p{margin:0 0 1em;line-height:1.33}#vmd .ui p:first-child{margin-top:0}#vmd .ui p:last-child{margin-bottom:0}#vmd .ui a{color:#009fda;text-decoration:none}#vmd .ui a:hover{color:#00b2f3}::-webkit-selection{background-color:rgba(255,255,160,.4);color:rgba(0,0,0,.8)}::-moz-selection{background-color:rgba(255,255,160,.4);color:rgba(0,0,0,.8)}::selection{background-color:rgba(255,255,160,.4);color:rgba(0,0,0,.8)}</style>");

// 01.vmd.css
$("body").append("<style>#vmd{position:fixed;width:100%;top:0;left:0;opacity:.95;z-index:2}#vmd .vmd-toolbar{width:100%;background:linear-gradient(to bottom,rgba(226,226,226,1) 0,rgba(254,254,254,1) 100%);box-shadow:0 4px 8px rgba(0,0,0,.4);padding:2px 0 1px 1px;height:30px;z-index:1000}#vmd-snaptarget{background-color:#fff;position:fixed;bottom:0;width:100%;height:0;left:0;z-index:2000}#vmd-logo{background:0 0}div.ui-widget-handle{background-color:#000}.ui.vmd-element.active.button:before{border-right:1px solid #ccc;border-bottom:1px solid #ccc;background-color:#ccc;content:'';display:block;height:8px;width:8px;position:absolute;top:25px;-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ui.vertical.menu{box-shadow:0 4px 8px rgba(0,0,0,.4)}.vmd-outline:hover{outline:1px solid #00f}.vmd-identifier{font-family:Courier New;font-size:12px!important;font-weight:700}.gray{color:#999!important}.lightgray{color:#ddd!important}.vmd-form{position:fixed!important;width:680px!important;top:40px!important}.vmd-toolbar-handle{background:none!important}input[name=easing-data],input[name=transition]{font-family:\"Courier New\"!important;font-weight:700}.vmd-easing-data{width:120px!important;float:right}</style>");

// 02.vmd.toolbar.css
$("body").append("<style></style>");

// 03.vmd.form.css
$("body").append("<style></style>");

// 01.vmd.production.js
$vmd=new Object;$vmd._linebreak="\n";$vmd._protocol="";

// 04.vmd.init.js
$vmd.initialize=function(){$vmd.buildFunctions();$vmd.alphabetIndex=64;$vmd.propertiesMapDefault="{ }";$vmd.body=$vmd.$("body");$vmd.VERSION="1.1.0-rc1";$vmd.INDICATOR_COLOR="#82E682";$vmd.DURATION_DEFAULT=800;$vmd.EASING_DEFAULT="swing";$vmd.DELAY_DEFAULT=0;$vmd.colorList=["blue","orange","green","red","purple","teal"];$vmd.colorIndex=0;var instructions=["Velocity Motion Designer "+$vmd.VERSION+". http://VelocityJS.org"," README.md build dist src themes vmd.html vmd.original.js vmd.src.html Note: All HREF links are disabled.",' README.md build dist src themes vmd.html vmd.original.js vmd.src.html Note: Refer to "CSS Support" on http://VelocityJS.org for supported properties.'," README.md build dist src themes vmd.html vmd.original.js vmd.src.html Note: You have access to all UI pack effects: http://VelocityJS.org/#uiPack."," - Shift-click on an element: Initialize."," - Click on a key identifier: Toggle looping."," - Enter key (when modifying animation parameters): Animate."," - a-z keys: Restart/reset the associated animation."," - 1 key: Restart all animations."," - 2 key: Reset all animations."," - Esc key: Close visible modal."];$vmd.$.each(instructions,function(i,instruction){console.log(instruction)});document.title="VMD | "+document.title;var vmdToolbar='<div id="vmd">';vmdToolbar+="</div>";$vmd.body.prepend(vmdToolbar);$vmd.Toolbar=$vmd.$("#vmd");$vmd.Toolbar.append($vmd.buildToolbar());$vmd.Toolbar.find(".vmd-play-all").click(function(){$vmd.animateAll()});$vmd.Toolbar.find(".vmd-stop-all").click(function(){$vmd.stopAll()});$vmd.Targets=[];$vmd.Toolbar.draggable({revert:false,handle:"div.vmd-toolbar-handle",cursor:"move",grid:[0,1]});$vmd.$.Velocity.Transforms={opacity:"opacity",width:"width",height:"height",paddingTop:"paddingTop",paddingRight:"paddingRight",paddingBottom:"paddingBottom",paddingLeft:"paddingLeft",top:"top",right:"right",bottom:"bottom",left:"left",marginTop:"marginTop",marginRight:"marginRight",marginBottom:"marginBottom",marginLeft:"marginLeft",borderTopWidth:"borderTopWidth (no %)",borderRightWidth:"borderRightWidth (no %)",borderBottomWidth:"borderBottomWidth (no %)",borderLeftWidth:"borderLeftWidth (no %)",borderRadius:"borderRadius (IE9+)",outlineWidth:"outlineWidth (no %)",fontSize:"fontSize",lineHeight:"lineHeight",letterSpacing:"letterSpacing (no %)",wordSpacing:"wordSpacing (no %)",color:"color (hex string)",colorRed:"colorRed (unitless or %)",colorGreen:"colorGreen (unitless or %)",colorBlue:"colorBlue (unitless or %)",colorAlpha:"colorAlpha (unitless)",backgroundColor:"backgroundColor (hex string)",backgroundColorRed:"backgroundColorRed (unitless or %)",backgroundColorGreen:"backgroundColorGreen (unitless or %)",backgroundColorBlue:"backgroundColorBlue (unitless or %)",backgroundColorAlpha:"backgroundColorAlpha (unitless or %)",borderColor:"borderColor (hex string)",borderColorRed:"borderColorRed (unitless or %)",borderColorGreen:"borderColorGreen (unitless or %)",borderColorBlue:"borderColorBlue (unitless or %)",borderColorAlpha:"borderColorAlpha (unitless)",outlineColor:"outlineColor (hex string)",outlineColorRed:"outlineColorRed (unitless or %)",outlineColorGreen:"outlineColorGreen (unitless or %)",outlineColorBlue:"outlineColorBlue (unitless or %)",outlineColorAlpha:"outlineColorAlpha (unitless)",textShadowX:"textShadowX (no %) (IE9+)",textShadowY:"textShadowY (no %) (IE9+)",textShadowBlur:"textShadowBlur (no %) (IE9+)",boxShadowX:"boxShadowX (no %)",boxShadowY:"boxShadowY (no %)",boxShadowBlur:"boxShadowBlur (no %)",boxShadowSpread:"boxShadowSpread (no %)",translateX:"selected>translateX",translateY:"translateY",translateZ:"translateZ (IE10+)",scale:"scale (unitless or %)",scaleX:"scaleX (unitless or %)",scaleY:"scaleY (unitless or %)",rotateX:"rotateX (unitless or deg) (IE10+)",rotateY:"rotateY (unitless or deg) (IE10+)",rotateZ:"rotateZ (unitless or deg)",skewX:"skewX (unitless or deg)",skewY:"skewY (unitless or deg)",clipTop:"clipTop (needs position:abs)",clipRight:"clipRight (needs position:abs)",clipBottom:"clipBottom (needs position:abs)",clipLeft:"clipLeft (needs position:abs)",blur:"blur (px/em/rem) (no IE, no FF, Android 4.4+)"};$vmd.systemFont="Helvetica Neue, Arial";$vmd.Toolbar.css("font-family",$vmd.systemFont,"important");$vmd.Toolbar.show();$vmd.selectButton=function($target){var menuId="#vmd-button-"+$target.data("vmd-button-letter");$vmd.closeMenus();$vmd.openMenu($vmd.$(menuId));return true};$vmd.enableOutlining();$vmd.enableEscapeKey();$vmd.enableAnimationKeys();$vmd.enablePlay();$vmd.enableStop();$vmd.createToggle()};

// 05.vmd.cdn.js
$vmd.loadLibraries=function(){$vmd.$.getScript($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js",function(){$vmd.$.getScript($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/velocity/1.1.0/velocity.min.js",function(){$vmd.$.getScript($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/velocity/1.1.0/velocity.ui.min.js",function(){$vmd.$.getScript($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.0.0/semantic.min.js",function(){$vmd.$.get($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.0.0/semantic.css",function(css){var splitted=css.split($vmd._linebreak);for(s in splitted){if(s>=21210&&s<=21668||s>=23712&&s<=23824){splitted[s]=""}}var semantic_css=splitted.join($vmd._linebreak);$vmd.$(document).ready(function(){$vmd.$("<style />").html(semantic_css).appendTo("head");$vmd.initialize()})})})})})})};$vmd.loadJQuery=function(){if(window.$){console.log("JQuery already loaded: "+$.fn.jquery);var jQueryExists=true}if(jQueryExists){$.getScript($vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js",function(){$vmd.$=$.noConflict();$vmd.loadLibraries()})}else{var script=document.createElement("SCRIPT");script.src=$vmd._protocol+"//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js";script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);var checkReady=function(callback){if(window.jQuery){callback(jQuery);$vmd.$=$.noConflict();$vmd.loadLibraries()}else{window.setTimeout(function(){checkReady(callback)},100)}};checkReady(function($){})}};$vmd.prep=function(){$vmd.loadJQuery()};

// 06.vmd.helpers.js
$vmd.buildFunctions=function(){function objectToString(variable){var properties=[];for(var property in variable){var value=variable[property];if(Array.isArray(value)){value="["+value+"]"}else if(!/^[0-9]+$/.test(value)){value='"'+value+'"'}properties.push(property+": "+value)}return"{ "+properties.join(", ")+" }"}$vmd.$.fn.getPath=function(){if(this.length!=1)throw"Requires one element.";var path,node=this;while(node.length){var realNode=node[0],name=realNode.localName;if(!name)break;name=name.toLowerCase();if(node.attr("id")){name="#"+node.attr("id")}var parent=node.parent();var siblings=parent.children(name);if(siblings.length>1){name+=":eq("+siblings.index(realNode)+")"}path=name+(path?" > "+path:"");node=parent}return path};$vmd.clearPageSelection=function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}}};

// 07.vmd.toolbar.js
$vmd.buildToolbar=function(){var vmdMenu="";vmdMenu+='<div class="vmd-toolbar ui fitted segment">';vmdMenu+=' <div class="ui two column grid">';vmdMenu+=' <div class="left floated column">';vmdMenu+=' <div class="ui mini label vmd-toolbar-handle">|||</div>';vmdMenu+=' <div id="vmd-logo" class="ui mini label">VMD</div>';vmdMenu+=' <div id="vmd-on-off" class="ui mini circular toggle button">Off</div>';vmdMenu+=' <div id="vmd-ui-buttons" class="mini attached ui buttons"></div>';vmdMenu+=" </div>";vmdMenu+=' <div class="right floated right aligned column">';vmdMenu+=' <div class="ui mini buttons">';vmdMenu+=' <div class="vmd-play-all ui positive button">1 <i class="play icon"></i></div>';vmdMenu+=' <div class="or"></div>';vmdMenu+=' <div class="vmd-play-all ui negative button">2 <i class="pause icon"></i></div>';vmdMenu+=" </div>";vmdMenu+=" </div>";vmdMenu+=" </div>";vmdMenu+="</div>";return vmdMenu};

// 08.vmd.form.js
$vmd.buildForm=function(){var vmdForm="";vmdForm+='<div class="vmd-form">';vmdForm+=' <div class="vmd-form-handle ui top attached black block header segment">';vmdForm+=' <div class="ui three column grid">';vmdForm+=' <div class="vmd-identifier ui column">.vmd-identifier</div>';vmdForm+=' <div class="ui center aligned column">';vmdForm+=' <div class="vmd-alphabet ui mini circular button">A</div>';vmdForm+=" </div>";vmdForm+=' <div class="ui right aligned column">';vmdForm+=' <i class="vmd-repeat-icon lightgray small repeat icon" data-content="Repeat" data-variation="basic small" data-position="right center"></i>';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=' <div class="ui fluid attached form segment">';vmdForm+=' <div class="field">';vmdForm+=" <label>Transition</label>";vmdForm+=' <div class="ui fluid action input">';vmdForm+=' <input type="text" name="transition" placeholder="example: { translateX: [0, -1000] }">';vmdForm+=' <div class="vmd-play ui button"><i class="play icon"></i></div>';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=' <div class="four fields">';vmdForm+=' <div class="field">';vmdForm+=' <label>Duration: <b><span class="vmd-duration-amount">'+$vmd.DURATION_DEFAULT+"</span>ms</b></label>";vmdForm+=' <input type="range" name="duration" min="100" max="4000" value="'+$vmd.DURATION_DEFAULT+'" />';vmdForm+=" </div>";vmdForm+=' <div class="field">';vmdForm+=' <label>Delay: <b><span class="vmd-delay-amount">'+$vmd.DELAY_DEFAULT+"</span>ms</b></label>";vmdForm+=' <input type="range" name="delay" min="0" max="2000" value="'+$vmd.DELAY_DEFAULT+'" />';vmdForm+=" </div>";vmdForm+=' <div class="field">';vmdForm+=' <select name="easing" class="vmd-easing-dropdown ui selection dropdown" id="easing">';vmdForm+=" </select>";vmdForm+=" </div>";vmdForm+=' <div class="field">';vmdForm+=' <div class="vmd-easing-data ui fluid input">';vmdForm+=' <input type="text" name="easing-data" placeholder="eg, [50,20]" value="[ ]">';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=' <div class="ui bottom attached black block header segment">';vmdForm+=' <div class="ui two column grid">';vmdForm+=' <div class="ui vmd-identifier gray right aligned right floated column">.vmd-identifier</div>';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+="</div>";return vmdForm};

// 09.vmd.functions.js
$vmd.togglePageInputs=function(on){if(on){$vmd.$("a").each(function(){if(!$vmd.$(this).closest("#vmd").length){$vmd.$(this).off("click")}});$vmd.$("button").each(function(){if(!$vmd.$(this).closest("#vmd").length){$vmd.$(this).off("click")}});$vmd.$("input").each(function(){if(!$vmd.$(this).closest("#vmd").length){$vmd.$(this).off("click")}})}else{$vmd.$("a").on("click",function(e){if(!$vmd.$(this).closest("#vmd").length){e.preventDefault()}});$vmd.$("button").on("click",function(e){if(!$vmd.$(this).closest("#vmd").length){e.preventDefault()}});$vmd.$("input").on("click",function(e){if(!$vmd.$(this).closest("#vmd").length){e.preventDefault()}})}};$vmd.createToggle=function(){$vmd.togglePageInputs(false);var $toggle=$vmd.$("#vmd-on-off");$toggle.state({text:{inactive:"Off",active:"On"}});$toggle.addClass("active");$toggle.text("On");$vmd.active=true;$toggle.click(function(event){var buttons=$vmd.$(".ui.vmd-element.button");var keys=$vmd.$('span[name="key"]');if($toggle.hasClass("active")){document.title="VMD | "+document.title;if(buttons.length){buttons.prop("disabled","")}if(keys.length)keys.show();$vmd.Toolbar.velocity({opacity:1},750);$vmd.active=true;$vmd.togglePageInputs(false)}else{document.title=document.title.slice(5,document.title.length);$vmd.active=false;$vmd.Toolbar.velocity({opacity:.35},750);if(buttons.length){buttons.prop("disabled","disabled");$vmd.closeMenus()}if(keys.length)keys.hide();$vmd.togglePageInputs(true)}})};$vmd.closeMenus=function(){$vmd.$(".ui.vmd-element.button").each(function(){$vmd.$(this).removeClass("active")});$vmd.$(".vmd-form").each(function(){$vmd.$(this).hide()})};$vmd.openMenu=function(target){$vmd.$(target).addClass("active");var id="."+$vmd.$(target).attr("id");$vmd.$(id).velocity({opacity:1},{display:"auto"})};$vmd.updateButton=function(targetId,targetElement){var id="#"+targetId;$vmd.closeMenus();$vmd.createForm($vmd.$(id),targetElement);$vmd.$(id).click(function(){if($vmd.$(this).hasClass("active")){$vmd.closeMenus()}else{$vmd.closeMenus();$vmd.$(this).addClass("active");$vmd.openMenu(this)}})};$vmd.createForm=function(target,targetElement){var thisForm=$vmd.$($vmd.buildForm());var offset=$vmd.$(target).offset();var identifier=$vmd.$(targetElement).getPath();var targetId=target.attr("id");thisForm.find(".vmd-identifier").text(identifier);$vmd.$(thisForm).css("position","absolute");var left=offset.left-100;if(left<20)left=20;$vmd.$(thisForm).offset({top:-8,left:left});$vmd.$(thisForm).addClass(targetId);$vmd.$(thisForm).find(".item").css("width","100%");$vmd.$(thisForm).css("width",450);$vmd.$(thisForm).find(".vmd-transition").css("width","50%");$vmd.$(thisForm).find(".vmd-transition").css("float","left");$vmd.$(thisForm).find(".vmd-transition-input").css("width","50%");$vmd.$(thisForm).find(".vmd-transition-input").css("float","right");$vmd.$(thisForm).find(".vmd-duration").css("width","50%");$vmd.$(thisForm).find(".vmd-duration").css("float","left");$vmd.$(thisForm).find(".vmd-delay").css("width","50%");$vmd.$(thisForm).find(".vmd-delay").css("float","right");$vmd.$(thisForm).find(".vmd-alphabet").text(String.fromCharCode($vmd.alphabetIndex));$vmd.$(thisForm).find(".vmd-form-handle").addClass($vmd.colorList[$vmd.colorIndex]);$vmd.$(thisForm).find(".vmd-alphabet").addClass($vmd.colorList[$vmd.colorIndex]);$vmd.colorIndex++;if($vmd.colorIndex>5)$vmd.colorIndex=0;var extraEasings={"spring physics...":"[500,20]","cubic bezier...":"[0.25,1,0.25,1]","step...":"[ 4 ]"};for(e in extraEasings){var selected="";if(e===$vmd.EASING_DEFAULT){selected="selected"}var html="<option "+selected+' value="'+extraEasings[e]+'">'+e+"</option>";$vmd.$(thisForm).find(".vmd-easing-dropdown").append(html)}var easings=$vmd.$.Velocity.Easings;for(e in easings){var selected="";if(e===$vmd.EASING_DEFAULT){selected="selected"}var html="<option "+selected+' value="'+easings[e]+'">'+e+"</option>";$vmd.$(thisForm).find(".vmd-easing-dropdown").append(html)}$vmd.$(thisForm).find("input[name='delay']").on("input",function(){$vmd.$(this).parent().find(".vmd-delay-amount").text(this.value)});$vmd.$(thisForm).find("input[name='duration']").on("input",function(){$vmd.$(this).parent().find(".vmd-duration-amount").text(this.value)});$vmd.Targets[$vmd.alphabetIndex]=targetElement;$vmd.$(targetElement).data("VMD",{});$vmd.$(targetElement).data("VMD").propertiesMap="Hello";$vmd.$(targetElement).data("VMD").options=new Object;$vmd.$(thisForm).find("input[name='transition']").on("keydown",function(event){if(event.which==13){var index=targetElement.data("vmd-index");$vmd.animate($vmd.Targets[index])}});$vmd.$(thisForm).find(".vmd-play").click(function(){var index=targetElement.data("vmd-index");$vmd.animate($vmd.Targets[index])});$vmd.Targets[$vmd.alphabetIndex].Alpha=$vmd.alphabetIndex;$vmd.Targets[$vmd.alphabetIndex].Repeat=false;$vmd.Targets[$vmd.alphabetIndex].Properties="{}";$vmd.Targets[$vmd.alphabetIndex].Easing=$vmd.DEFAULT_EASING;$vmd.Targets[$vmd.alphabetIndex].Delay=$vmd.DEFAULT_DELAY;$vmd.Targets[$vmd.alphabetIndex].Duration=$vmd.DEFAULT_DURATION;$vmd.$(thisForm).find(".vmd-repeat-icon").data("target-element",$vmd.alphabetIndex);targetElement.data("vmd-index",$vmd.alphabetIndex);$vmd.$(thisForm).find(".vmd-repeat-icon").popup();$vmd.$(thisForm).find(".vmd-repeat-icon").click(function(){var target=$vmd.$(this).data("target-element");$vmd.$(this).toggleClass("lightgray");if($vmd.$(this).hasClass("lightgray")){$vmd.Targets[target].Repeat=false}else{$vmd.Targets[target].Repeat=true}});$vmd.Toolbar.append(thisForm);$vmd.$(".vmd-easing-dropdown").dropdown({"set selected":"swing",onChange:function(value,text,$choice){if(text.indexOf("...")>-1){$vmd.$(".vmd-easing-data input").val("["+value+"]");$vmd.$(".vmd-easing-data").show()}else{$vmd.$(".vmd-easing-data").hide()}}});$vmd.$(".vmd-form").draggable({handle:".vmd-form-handle",cursor:"move"});$vmd.$(".vmd-easing-data").hide()};function getElementLabel($target){return $target.attr("id")?"#"+$target.attr("id"):$target[0].tagName.toLowerCase()+($target[0].className?"."+$target[0].className:"")}function updateParameters($target){var propertiesMap=$target.data("VMD").propertiesMap,options=$target.data("VMD").options;$vmd.$.each(["duration","delay","easing"],function(_,value){options[value]=$target.find("[name='"+value+"']").val()});if($target.find("select[name='easing'] :selected").attr("data-array")){try{eval("options.easing = "+$target.find("code[name='easingArray']").text())}catch(error){}}$target.data("VMD").options=options;try{eval("propertiesMap = "+$target.find("code[name='propertiesMap']").text())}catch(error){}$target.data("VMD").propertiesMap=propertiesMap}function animate($target){updateParameters($target);if($target.data("VMD").propertiesMap){$target.parent().velocity("stop",true).velocity($target.data("VMD").propertiesMap,$target.data("VMD").options)}}function clearElementStyles(element){if($vmd.$.data(element,"velocity")){$vmd.$.data(element,"velocity").transformCache={}}element.setAttribute("style","position:"+$vmd.$.css(element,"position")+";")}

// 10.vmd.js
$vmd.enableEscapeKey=function(){$vmd.body.keydown(function(event){if(event.which==27){$vmd.closeMenus()}})};$vmd.enablePlay=function(){$vmd.body.keydown(function(event){if(event.which===49){if(!$vmd.active)return true;if($vmd.$("input,textarea").is(":focus"))return true;$vmd.animateAll()}})};$vmd.enableAnimationKeys=function(){$vmd.body.keydown(function(event){for(t in $vmd.Targets){if(event.which==t){if(!$vmd.active)return true;if($vmd.$("input,textarea").is(":focus"))return true;$vmd.animate($vmd.Targets[t])}}})};$vmd.enableStop=function(){$vmd.body.keydown(function(event){if(event.which===50){if(!$vmd.active)return true;if($vmd.$("input,textarea").is(":focus"))return true;$vmd.stopAll()}})};$vmd.animateAll=function(){for(t in $vmd.Targets){$vmd.animate($vmd.Targets[t])}};$vmd.stopAll=function(){for(t in $vmd.Targets){$vmd.Targets[t].velocity("stop",true).velocity({color:$vmd.INDICATOR_COLOR},75).velocity("reverse")}};$vmd.animate=function(target){$vmd.updateParameters(target);var index=target.data("vmd-index");var properties=target.data("vmd-propertiesMap");var options=target.data("options");try{eval("propertiesMap = "+properties)}catch(error){}if(propertiesMap){target.velocity("stop",true).velocity(propertiesMap,target.data("vmd-options"))}};$vmd.updateParameters=function(target){var index=target.data("vmd-index");var character=String.fromCharCode(index).toUpperCase();var form=$vmd.$(".vmd-button-"+character);var transition=form.find("input[name=transition]").val();var easing=form.find("select[name=easing] option:selected").text();var duration=form.find("input[name=duration]").val();var delay=form.find("input[name=delay]").val();$vmd.Targets[index].data("vmd-propertiesMap",transition);var options=new Object;options.duration=duration;options.delay=delay;options.easing=easing;options.loop=$vmd.Targets[index].Repeat;options.begin=function(){};options.complete=function(){};$vmd.Targets[index].data("vmd-options",options);return true};$vmd.enableOutlining=function(){$vmd.body.keydown(function(event){if(!$vmd.active)return false;if(event.shiftKey){$vmd.$(".vmd-outline").css("cursor","pointer")}}).keyup(function(event){if(!$vmd.active)return false;if(event.which===16){$vmd.$(".vmd-outline").css("cursor","")}}).on("mouseover",function(event){if(!$vmd.active)return false;var $target=$vmd.$(event.target);if(!$target.closest("#vmd").length){if(event.shiftKey){$target.css("cursor","pointer");$target.css("outline","1px solid rgba(0, 0, 50, 0.5)")}else{$target.css("cursor","");$target.css("outline","")}}}).on("mouseout",function(event){$vmd.$(event.target).css("outline","");$vmd.$(event.target).css("cursor","")});$vmd.body.click(function(event){if(!$vmd.active)return true;if(!event.shiftKey){return false}$vmd.clearPageSelection();var $target=$vmd.$(event.target),$overlay=$target.closest("overlay.VMD");if($target.closest("#vmd").length)return false;if($target.hasClass("vmd-initialized")){$vmd.selectButton($target)}else{$vmd.alphabetIndex++;var alphabetLetter=String.fromCharCode($vmd.alphabetIndex);$target.addClass("vmd-initialized");$target.data("vmd-button-letter",alphabetLetter);$vmd.$("<code></code>").attr("name","propertiesMap").css({display:"none",fontSize:"0.8rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)",marginBottom:"0.4rem"}).prop("contenteditable",true).prop("spellcheck",false).html($vmd.propertiesMapDefault).appendTo($target);var $key=$vmd.$("<span></span>");$key.attr("name","key").css({position:"absolute",top:0,right:0,padding:"0.15rem 0.4rem 0.10rem 0.4rem",fontSize:"0.7rem",textTransform:"uppercase",background:"rgba(50, 65, 65, 0.20)",border:"1px solid rgba(255, 255, 255, 0.20)",borderRadius:"16px",color:"#fff",textShadow:"0px 0px 3px rgb(25, 25, 50), 0px 0px 5px rgb(25, 25, 50), 0px 0px 8px rgb(25, 25, 50)",zIndex:1,cursor:"default",userSelect:"none"}).html(String.fromCharCode($vmd.alphabetIndex)).appendTo($target);var vmdButtonId="vmd-button-"+alphabetLetter;var vmdButton='<button id="'+vmdButtonId+'" class="ui vmd-element button">A</button>';vmdButton=$vmd.$(vmdButton).html(alphabetLetter);$vmd.$("#vmd-ui-buttons").append(vmdButton);$vmd.updateButton(vmdButtonId,$target);$vmd.selectButton($target)}return true;if($target.has("code[name='propertiesMap']")){updateParameters($overlay);var id=getElementLabel($overlay.parent()),propertiesMap=$target.text(),options=$.extend({},$overlay.data("VMD").options);if(options.easing==="swing")delete options.easing;if(options.delay==0)delete options.delay;delete options.loop;delete options.begin;delete options.complete;options=objectToString(options);console.log('$("'+id+'").velocity('+propertiesMap+", "+options+");")}else{var $modal=$vmd.$("<modal></modal>");$modal.css({position:"absolute",left:"50%",marginLeft:"-6rem",width:"12rem",minHeight:"5rem",backgroundColor:"white",borderRadius:"3px",boxShadow:"0px 0px 3px 0px rgba(50, 50, 65, 0.5)",padding:"0.6rem 0.5rem 0.5rem 0.5rem",opacity:"0.975"});var $key=$vmd.$("<span></span>");$key.attr("name","key").css({position:"absolute",top:0,right:0,padding:"0.15rem 0.4rem 0.10rem 0.4rem",fontSize:"0.5rem",textTransform:"uppercase",color:"#fff",textShadow:"0px 0px 3px rgb(25, 25, 50), 0px 0px 5px rgb(25, 25, 50), 0px 0px 8px rgb(25, 25, 50)",zIndex:1,cursor:"default",userSelect:"none"}).html(String.fromCharCode($vmd.alphabetIndex));var $label=$vmd.$("<div></div>");$label.html(getElementLabel($target)).css({cursor:"default",color:"#5a96df",textAlign:"center",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.5rem"}).appendTo($modal);$vmd.$("<code></code>").attr("name","propertiesMap").css({display:"block",fontSize:"0.8rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)",marginBottom:"0.4rem"}).prop("contenteditable",true).prop("spellcheck",false).html($vmd.propertiesMapDefault).appendTo($modal);var $controls=$vmd.$("<table></table>");$controls.attr("name","options").appendTo($modal);var $duration=$vmd.$("<input type='range' />").attr({name:"duration",min:"100",max:"4000",value:DURATION_DEFAULT,step:"50"}).css({width:"6.5rem"}).wrap("<td />").parent().add("<td style='cursor: default; text-align: right; width: 100%;'>"+DURATION_DEFAULT+"ms</td>").wrapAll("<tr></tr>").parent().appendTo($controls);var $delay=$vmd.$("<input type='range' />").attr({name:"delay",min:"0",max:"2000",value:DELAY_DEFAULT,step:"25"}).css({width:"6.5rem"}).wrap("<td />").parent().add("<td style='cursor: default; text-align: right; width: 100%;'>"+DELAY_DEFAULT+"ms</td>").wrapAll("<tr></tr>").parent().appendTo($controls);var $easing=$vmd.$("<select></select>").attr("name","easing").css({backgroundColor:"transparent",border:"none",width:"6.5rem",fontSize:"0.85rem"}).wrap("<td />").parent();var $easingArray=$vmd.$("<code></code>").attr("name","easingArray").css({display:"none",fontSize:"0.5rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)"}).prop({contenteditable:"true",spellcheck:"false"}).wrap("<td />").parent();$easing.add($easingArray).wrapAll("<tr></tr>").parent().appendTo($controls);$vmd.$("<option></option>").attr({"data-array":"true",value:"[500,20]"}).html("spring physics...").appendTo($easing.children());$vmd.$("<option></option>").attr({"data-array":"true",value:"[.25,1,.25,1]"}).html("cubic bezier...").appendTo($easing.children());$vmd.$("<option></option>").attr({"data-array":"true",value:"[ 4 ]"}).html("step...").appendTo($easing.children());$.each($.Velocity.Easings,function(name){$vmd.$("<option></option>").attr({name:name,value:name}).prop({selected:name===$vmd.EASING_DEFAULT}).html(name).appendTo($easing.children())});var $overlay=$vmd.$("<overlay></overlay>").attr("id","overlay-"+$vmd.alphabetIndex).css({width:"100%",left:"100%",top:0,left:0,position:"absolute",zIndex:10001}).addClass("VMD").data("VMD",{mouse:"enter",propertiesMap:{},options:{duration:$vmd.DURATION_DEFAULT,delay:$vmd.DELAY_DEFAULT,easing:$vmd.EASING_DEFAULT,loop:false,begin:function(elements){$.each(elements,function(i,element){clearElementStyles(element)});$vmd.$(this).find("overlay.VMD code[name='propertiesMap']").velocity("stop",true).velocity({color:$vmd.INDICATOR_COLOR},75).velocity("reverse")},complete:function(elements){var $this=$vmd.$(this),propertiesMap=$this.find("overlay.VMD").data("VMD").propertiesMap,options=$this.find("overlay.VMD").data("VMD").options;if(options.loop===true&&typeof propertiesMap==="string"){$.each(elements,function(i,element){$vmd.$(this).velocity(propertiesMap,options)})}}}}).append($key).appendTo($target).velocity("fadeIn","fast");if($overlay.parent().css("position")==="static"){$overlay.parent().css("position","relative")}}})};$vmd.prep();
