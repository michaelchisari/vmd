// FINAL

// 01.vmd.css
$("body").append("<style>#vmd{position:fixed;width:100%;top:0;left:0;opacity:.95;box-shadow:0 4px 8px rgba(0,0,0,.4);display:none;z-index:1000;background:linear-gradient(to bottom,rgba(226,226,226,1) 0,rgba(254,254,254,1) 100%);padding:4px 0}#vmd-snaptarget{background-color:#fff;position:fixed;bottom:0;width:100%;height:0;left:0;z-index:2000}#vmd-logo{background:0 0}div.ui-widget-handle{background-color:#000}.ui.vmd-element.active.button:before{border-right:1px solid #ccc;border-bottom:1px solid #ccc;background-color:#ccc;content:'';display:block;height:8px;width:8px;position:absolute;top:25px;-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ui.vertical.menu{box-shadow:0 4px 8px rgba(0,0,0,.4)}.vmd-outline:hover{outline:1px solid #00f}.vmd-identifier{font-family:Courier New;font-size:11px;font-weight:700}.gray{color:#999!important}.lightgray{color:#ddd!important}</style>");

// 02.vmd.menu.css
$("body").append("<style></style>");

// 03.vmd.form.css
$("body").append("<style></style>");

// 01.vmd.production.js
__vmd_linebreak="\n";__vmd_protocol="";

// 04.vmd.cdn.js
$cdn=new Object;$cdn.load=function(){$.getScript(__vmd_protocol+"//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js");$.getScript(__vmd_protocol+"//cdnjs.cloudflare.com/ajax/libs/velocity/1.1.0/velocity.min.js",function(){$.getScript(__vmd_protocol+"//cdnjs.cloudflare.com/ajax/libs/velocity/1.1.0/velocity.ui.min.js")});$.getScript(__vmd_protocol+"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.0.0/components/accordion.min.js");$.get(__vmd_protocol+"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.0.0/semantic.css",function(css){var splitted=css.split(__vmd_linebreak);for(s in splitted){if(s>=21210&&s<=21668||s>=23712&&s<=23824){splitted[s]=""}}var semantic_css=splitted.join(__vmd_linebreak);$(document).ready(function(){$("<style />").html(semantic_css).appendTo("head")})})};(function(){var script=document.createElement("SCRIPT");script.src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js";script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);var checkReady=function(callback){if(window.jQuery){callback(jQuery)}else{window.setTimeout(function(){checkReady(callback)},20)}};checkReady(function($){$(function(){$cdn.load()})})})();

// 05.vmd.helpers.js
function objectToString(variable){var properties=[];for(var property in variable){var value=variable[property];if(Array.isArray(value)){value="["+value+"]"}else if(!/^[0-9]+$/.test(value)){value='"'+value+'"'}properties.push(property+": "+value)}return"{ "+properties.join(", ")+" }"}$.fn.getPath=function(){if(this.length!=1)throw"Requires one element.";var path,node=this;while(node.length){var realNode=node[0],name=realNode.localName;if(!name)break;name=name.toLowerCase();if(node.attr("id")){name="#"+node.attr("id")}var parent=node.parent();var siblings=parent.children(name);if(siblings.length>1){name+=":eq("+siblings.index(realNode)+")"}path=name+(path?" > "+path:"");node=parent}return path};function clearPageSelection(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}else if(document.selection){document.selection.empty()}}

// 06.vmd.init.js
var alphabetIndex=64,propertiesMapDefault="{ }";var $body=$("body");var VERSION="1.1.0-rc1",INDICATOR_COLOR="#82E682",DURATION_DEFAULT=800,EASING_DEFAULT="swing",DELAY_DEFAULT=0;var $vmd=$("#vmd");var instructions=["Velocity Motion Designer "+VERSION+". http://VelocityJS.org"," README.md build dist lib src vmd.html vmd.src.html Note: All HREF links are disabled.",' README.md build dist lib src vmd.html vmd.src.html Note: Refer to "CSS Support" on http://VelocityJS.org for supported properties.'," README.md build dist lib src vmd.html vmd.src.html Note: You have access to all UI pack effects: http://VelocityJS.org/#uiPack."," - Shift-click on an element: Initialize."," - Click on a key identifier: Toggle looping."," - Enter key (when modifying animation parameters): Animate."," - a-z keys: Restart/reset the associated animation."," - 1 key: Restart all animations."," - 2 key: Reset all animations."," - Esc key: Close visible modal."];$.each(instructions,function(i,instruction){console.log(instruction)});document.title="VMD | "+document.title;$.Velocity.Transforms={opacity:"opacity",width:"width",height:"height",paddingTop:"paddingTop",paddingRight:"paddingRight",paddingBottom:"paddingBottom",paddingLeft:"paddingLeft",top:"top",right:"right",bottom:"bottom",left:"left",marginTop:"marginTop",marginRight:"marginRight",marginBottom:"marginBottom",marginLeft:"marginLeft",borderTopWidth:"borderTopWidth (no %)",borderRightWidth:"borderRightWidth (no %)",borderBottomWidth:"borderBottomWidth (no %)",borderLeftWidth:"borderLeftWidth (no %)",borderRadius:"borderRadius (IE9+)",outlineWidth:"outlineWidth (no %)",fontSize:"fontSize",lineHeight:"lineHeight",letterSpacing:"letterSpacing (no %)",wordSpacing:"wordSpacing (no %)",color:"color (hex string)",colorRed:"colorRed (unitless or %)",colorGreen:"colorGreen (unitless or %)",colorBlue:"colorBlue (unitless or %)",colorAlpha:"colorAlpha (unitless)",backgroundColor:"backgroundColor (hex string)",backgroundColorRed:"backgroundColorRed (unitless or %)",backgroundColorGreen:"backgroundColorGreen (unitless or %)",backgroundColorBlue:"backgroundColorBlue (unitless or %)",backgroundColorAlpha:"backgroundColorAlpha (unitless or %)",borderColor:"borderColor (hex string)",borderColorRed:"borderColorRed (unitless or %)",borderColorGreen:"borderColorGreen (unitless or %)",borderColorBlue:"borderColorBlue (unitless or %)",borderColorAlpha:"borderColorAlpha (unitless)",outlineColor:"outlineColor (hex string)",outlineColorRed:"outlineColorRed (unitless or %)",outlineColorGreen:"outlineColorGreen (unitless or %)",outlineColorBlue:"outlineColorBlue (unitless or %)",outlineColorAlpha:"outlineColorAlpha (unitless)",textShadowX:"textShadowX (no %) (IE9+)",textShadowY:"textShadowY (no %) (IE9+)",textShadowBlur:"textShadowBlur (no %) (IE9+)",boxShadowX:"boxShadowX (no %)",boxShadowY:"boxShadowY (no %)",boxShadowBlur:"boxShadowBlur (no %)",boxShadowSpread:"boxShadowSpread (no %)",translateX:"selected>translateX",translateY:"translateY",translateZ:"translateZ (IE10+)",scale:"scale (unitless or %)",scaleX:"scaleX (unitless or %)",scaleY:"scaleY (unitless or %)",rotateX:"rotateX (unitless or deg) (IE10+)",rotateY:"rotateY (unitless or deg) (IE10+)",rotateZ:"rotateZ (unitless or deg)",skewX:"skewX (unitless or deg)",skewY:"skewY (unitless or deg)",clipTop:"clipTop (needs position:abs)",clipRight:"clipRight (needs position:abs)",clipBottom:"clipBottom (needs position:abs)",clipLeft:"clipLeft (needs position:abs)",blur:"blur (px/em/rem) (no IE, no FF, Android 4.4+)"};var vmdToolbar='<div id="vmd" class="ui menu">';vmdToolbar+="</div>";$("body").prepend(vmdToolbar);$vmd.systemFont="Helvetica Neue, Arial";$vmd.css("font-family",$vmd.systemFont,"important");$vmd.selectButton=function($target){var menuId="#vmd-button-"+$target.data("vmd-button-letter");$vmd.closeMenus();$vmd.openMenu($(menuId));return true};console.log("Load #2");

// 07.vmd.menu.js
$vmd.buildMenu=function(){var vmdOnOff="";vmdOnOff+=' <div id="vmd-logo" class="ui mini label">VMD</div>';vmdOnOff+=' <div id="vmd-on-off" class="ui mini circular toggle button">Off</div>';var vmdMenu="";vmdMenu+=' <div class="left menu">';vmdMenu+=' <div class="ui mini button ui-widget-handle">|||</div>';vmdMenu+=vmdOnOff;vmdMenu+=" </div>";vmdMenu+=' <div id="vmd-ui-buttons" class="mini attached ui buttons">';vmdMenu+=" </div>";vmdMenu+=' <div class="right menu">';vmdMenu+=' <div class="ui mini buttons">';vmdMenu+=' <div class="ui positive button">1 <i class="play icon"></i></div>';vmdMenu+=' <div class="or"></div>';vmdMenu+=' <div class="ui negative button">2 <i class="pause icon"></i></div>';vmdMenu+=" </div>";vmdMenu+=" </div>";vmdMenu+=" </div>";return vmdMenu};

// 08.vmd.form.js
$vmd.buildForm=function(){var vmdModalForm="";vmdModalForm+='<div class="vmd vmd-edit-modal ui small modal">';vmdModalForm+=' <div class="header">';vmdModalForm+=" Translation";vmdModalForm+=" </div>";vmdModalForm+=' <div class="content">';vmdModalForm+=' <div class="left">';vmdModalForm+=' <i class="code icon"></i>';vmdModalForm+=" </div>";vmdModalForm+=' <div class="right">';vmdModalForm+=' <div class="ui form">';vmdModalForm+=' <div class="field">';vmdModalForm+=" <label>User Text</label>";vmdModalForm+=" <textarea></textarea>";vmdModalForm+=" </div>";vmdModalForm+=" </div>";vmdModalForm+=" </div>";vmdModalForm+=" </div>";vmdModalForm+=' <div class="actions">';vmdModalForm+=' <div class="two fluid ui buttons">';vmdModalForm+=' <div class="ui negative labeled icon button">';vmdModalForm+=' <i class="remove icon"></i>';vmdModalForm+=" Cancel";vmdModalForm+=" </div>";vmdModalForm+=' <div class="ui positive right labeled icon button">';vmdModalForm+=" Submit";vmdModalForm+=' <i class="checkmark icon"></i>';vmdModalForm+=" </div>";vmdModalForm+=" </div>";vmdModalForm+=" </div>";vmdModalForm+="</div>";var vmdTranslationDropdown="";vmdTranslationDropdown+='<div class="ui tiny search selection dropdown">';vmdTranslationDropdown+=' <div class="default text">Translation</div>';vmdTranslationDropdown+=' <i class="dropdown icon"></i>';vmdTranslationDropdown+=' <div class="vmd-edit purple small circular ui icon button"><i class="edit icon"></i></div>';vmdTranslationDropdown+=vmdModalForm;vmdTranslationDropdown+=' <div class="menu">';vmdTranslationDropdown+=" </div>";vmdTranslationDropdown+="</div>";var vmdEasingDropdown="";vmdEasingDropdown+='<div class="ui dropdown">';vmdEasingDropdown+=' <div class="default text">Easing</div>';vmdEasingDropdown+=' <i class="dropdown icon"></i>';vmdEasingDropdown+=' <div class="menu">';vmdEasingDropdown+=' <div class="item">Edit</div>';vmdEasingDropdown+=' <div class="item">Remove</div>';vmdEasingDropdown+=' <div class="item">Hide</div>';vmdEasingDropdown+=" </div>";vmdEasingDropdown+="</div>";var vmdForm="";vmdForm+='<div id="vmd-menu-a" class="ui vmd menu segment">';vmdForm+=' <div class="header item">';vmdForm+=' <label class="vmd-identifier" >#identifier</label>';vmdForm+=' <div class="blue circular ui icon button">';vmdForm+=' <i class="add icon"></i>';vmdForm+=" </div>";vmdForm+=' <div class="circular ui icon button">';vmdForm+=' <i class="setting icon"></i>';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+='<div class="ui grid segment">';vmdForm+=' <div class="two column row">';vmdForm+=' <div class="column">';vmdForm+=' <div class="vmd-transition item">';vmdForm+=vmdTranslationDropdown;vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=' <div class="vmd-transition-input item">';vmdForm+=' <div class="ui mini icon input">';vmdForm+=' <input type="number" placeholder="0">';vmdForm+=" </div>";vmdForm+=" </div>";vmdForm+=' <div class="vmd-duration item">';vmdForm+=' <label for="duration">Duration</label>';vmdForm+=' <input id="slider1" class="ui small slider" type="range" min="100" max="500" step="10" />';vmdForm+=" </div>";vmdForm+=' <div class="vmd-delay item">';vmdForm+=' <label for="delay">Delay</label>';vmdForm+=' <input id="slider1" class="ui small slider" type="range" min="100" max="500" step="10" />';vmdForm+=" </div>";vmdForm+=' <div class="item">';vmdForm+=vmdEasingDropdown;vmdForm+=" </div>";vmdForm+="</div>";vmdForm+="</div>";var vmdForm=' <div class="vmd-form" style="width:50%; min-width:1000px; margin-left:auto; margin-right:auto; position:absolute; top:50px; left: 60px;"> <div class="ui top attached black block header"> <div class="ui three column grid"> <div class="vmd-identifier gray aligned column"> #identifier </div> <div class="center aligned column"> <div class="small blue circular ui button" style="margin-top:-4px; box-shadow:2px 2px 4px rgba(0,0,0,0.6);">A</div> </div> <div class="right aligned column"> <div class="ui circular button"><i class="setting icon"></i></div> </div> </div> </div> <div class="ui small attached form segment"> <div class="drag ui grid"> <div class="column"> <i class="small lightgray rotated content icon"></i> </div> <div class="seven wide column"> <div class="ui mini stretched search selection right labeled left icon dropdown"> <i class="wizard icon"></i> <input type="hidden" name="country"> <div class="default text">Transformation</div> <div class="menu"> <div class="item" data-value="opacity">opacity</div> <div class="item" data-value="blur">blur</div> <div class="item" data-value="translateX">translateX</div> <div class="item" data-value="translateY">translateY</div> </div> </div> <div class="ui right floated small blue button"><i class="small edit icon"></i></div> </div> <div class="two wide column"> <div class="ui left icon mini input"> <i class="circle icon" data-position="left center" data-content="Value"></i> <input placeholder="0" type="number"> </div> </div> <div class="three wide column"> <label class="ui two column grid"> <div class="left aligned column">Delay </div> <div class="right aligned column"> <b>150</b>ms</div> </label> <input placeholder="0" type="range" style="width:100%"> </div> <div class="two wide column"> <label class="ui two column grid"> <div class="left aligned column"> Duration </div> <div class="right aligned column"> <b>500</b>ms </div> </label> <input placeholder="0" type="range"> </div> </div> <div class="ui divider"></div> <div class="ui grid"> <div class="center aligned column"> <div class="ui mini blue icon button"><i class="add icon"></i></div> </div> </div> </div> <h5 class="ui small bottom attached black block header"> <div class="ui one column grid"> <div class="vmd-identifier left floated right aligned gray column"> #identifier </div> </div> </h5> </div> ';return vmdForm};

// 09.vmd.functions.js
$vmd.togglePageInputs=function(on){if(on){$("a").each(function(){if(!$(this).closest("#vmd").length){$(this).off("click")}});$("button").each(function(){if(!$(this).closest("#vmd").length){$(this).off("click")}});$("input").each(function(){if(!$(this).closest("#vmd").length){$(this).off("click")}})}else{$("a").on("click",function(e){if(!$(this).closest("#vmd").length){e.preventDefault()}});$("button").on("click",function(e){if(!$(this).closest("#vmd").length){e.preventDefault()}});$("input").on("click",function(e){if(!$(this).closest("#vmd").length){e.preventDefault()}})}};$vmd.createToggle=function(){$vmd.togglePageInputs(false);var $toggle=$("#vmd-on-off.ui.toggle.button");$toggle.state({text:{inactive:"Off",active:"On"}});$toggle.addClass("active");$toggle.text("On");$vmd.active=true;$toggle.click(function(event){var buttons=$(".ui.vmd-element.button");var keys=$('span[name="key"]');if($toggle.hasClass("active")){document.title="VMD | "+document.title;if(buttons.length){buttons.prop("disabled","")}if(keys.length)keys.show();$vmd.velocity({opacity:1},750);$vmd.active=true;$vmd.togglePageInputs(false)}else{document.title=document.title.slice(5,document.title.length);$vmd.active=false;$vmd.velocity({opacity:.35},750);if(buttons.length){buttons.prop("disabled","disabled");$vmd.closeMenus()}if(keys.length)keys.hide();$vmd.togglePageInputs(true)}})};$(document).ready($vmd.createToggle);$vmd.append($vmd.buildMenu());$("#vmd").draggable({revert:false,handle:"div.ui-widget-handle",grid:[0,1]});$vmd.closeMenus=function(){$(".ui.vmd-element.button").each(function(){$(this).removeClass("active")});$vmd.find(".vmd-form").each(function(){$(this).hide()})};$vmd.openMenu=function(target){$(target).addClass("active");var id="."+$(target).attr("id");$vmd.find(id).velocity({opacity:1},{display:"auto"})};$vmd.updateButton=function(targetId,targetElement){var id="#"+targetId;$vmd.closeMenus();$vmd.createForm($(id),targetElement);$(id).click(function(){if($(this).hasClass("active")){$vmd.closeMenus()}else{$vmd.closeMenus();$(this).addClass("active");$vmd.openMenu(this)}})};$vmd.createForm=function(target,targetElement){var thisForm=$($vmd.buildForm());var offset=$(target).offset();var identifier=$(targetElement).getPath();var targetId=target.attr("id");thisForm.find(".vmd-identifier").text(identifier);$(thisForm).css("position","absolute");var left=offset.left-100;if(left<20)left=20;$(thisForm).offset({top:-8,left:left});$(thisForm).addClass(targetId);$(thisForm).find(".item").css("width","100%");$(thisForm).css("width",450);$(thisForm).find(".vmd-transition").css("width","50%");$(thisForm).find(".vmd-transition").css("float","left");$(thisForm).find(".vmd-transition-input").css("width","50%");$(thisForm).find(".vmd-transition-input").css("float","right");$(thisForm).find(".vmd-duration").css("width","50%");$(thisForm).find(".vmd-duration").css("float","left");$(thisForm).find(".vmd-delay").css("width","50%");$(thisForm).find(".vmd-delay").css("float","right");$(thisForm).find(".vmd-edit").click(function(){$("."+targetId).find(".vmd-edit-modal").modal("show")});$(thisForm).find(".vmd").css("font-family",$vmd.systemFont,"important");var transforms=$.Velocity.Transforms;for(t in transforms){var html='<div class="item">'+transforms[t]+"</div>";$(thisForm).find(".ui.dropdown").find(".menu").append(html)}$vmd.append(thisForm);$vmd.find(".ui.dropdown").dropdown();$(".vmd").find(".drag.ui.grid").draggable({revert:true,handle:".small.lightgray.rotated.content.icon",grid:[0,1]});$(".vmd").draggable({handle:".small.blue.circular.ui.button"})};function getElementLabel($target){return $target.attr("id")?"#"+$target.attr("id"):$target[0].tagName.toLowerCase()+($target[0].className?"."+$target[0].className:"")}function updateParameters($overlay){var propertiesMap=$overlay.data("VMD").propertiesMap,options=$overlay.data("VMD").options;$.each(["duration","delay","easing"],function(_,value){options[value]=$overlay.find("[name='"+value+"']").val()});if($overlay.find("select[name='easing'] :selected").attr("data-array")){try{eval("options.easing = "+$overlay.find("code[name='easingArray']").text())}catch(error){}}$overlay.data("VMD").options=options;try{eval("propertiesMap = "+$overlay.find("code[name='propertiesMap']").text())}catch(error){}$overlay.data("VMD").propertiesMap=propertiesMap}function animate($overlay){updateParameters($overlay);if($overlay.data("VMD").propertiesMap){$overlay.parent().velocity("stop",true).velocity($overlay.data("VMD").propertiesMap,$overlay.data("VMD").options)}}function clearElementStyles(element){if($.data(element,"velocity")){$.data(element,"velocity").transformCache={}}element.setAttribute("style","position:"+$.css(element,"position")+";")}

// 10.vmd.js
$(document).ready(function(){$body.keydown(function(event){if(!$vmd.active)return false;if(event.shiftKey){$(".vmd-outline").css("cursor","pointer")}}).keyup(function(event){if(!$vmd.active)return false;if(event.which===16){$(".vmd-outline").css("cursor","")}}).on("mouseover",function(event){if(!$vmd.active)return false;var $target=$(event.target);if(!$target.closest("#vmd").length){if(event.shiftKey){$target.css("cursor","pointer");$target.css("outline","1px solid rgba(0, 0, 50, 0.5)")}else{$target.css("cursor","");$target.css("outline","")}}}).on("mouseout",function(event){$(event.target).css("outline","");$(event.target).css("cursor","")});$body.click(function(event){if(!$vmd.active)return true;if(!event.shiftKey){return false}clearPageSelection();var $target=$(event.target),$overlay=$target.closest("overlay.VMD");if($target.closest("#vmd").length)return false;if($target.hasClass("vmd-initialized")){$vmd.selectButton($target)}else{alphabetIndex++;var alphabetLetter=String.fromCharCode(alphabetIndex);$target.addClass("vmd-initialized");$target.data("vmd-button-letter",alphabetLetter);$("<code></code>").attr("name","propertiesMap").css({display:"none",fontSize:"0.8rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)",marginBottom:"0.4rem"}).prop("contenteditable",true).prop("spellcheck",false).html(propertiesMapDefault).appendTo($target);var $key=$("<span></span>");$key.attr("name","key").css({position:"absolute",top:0,right:0,padding:"0.15rem 0.4rem 0.10rem 0.4rem",fontSize:"0.7rem",textTransform:"uppercase",background:"rgba(50, 65, 65, 0.20)",border:"1px solid rgba(255, 255, 255, 0.20)",borderRadius:"16px",color:"#fff",textShadow:"0px 0px 3px rgb(25, 25, 50), 0px 0px 5px rgb(25, 25, 50), 0px 0px 8px rgb(25, 25, 50)",zIndex:1,cursor:"default",userSelect:"none"}).html(String.fromCharCode(alphabetIndex)).appendTo($target);var vmdButtonId="vmd-button-"+alphabetLetter;var vmdButton='<button id="'+vmdButtonId+'" class="ui vmd-element button">A</button>';vmdButton=$(vmdButton).html(alphabetLetter);$("#vmd-ui-buttons").append(vmdButton);$vmd.updateButton(vmdButtonId,$target);$vmd.selectButton($target)}return true;if($target.has("code[name='propertiesMap']")){updateParameters($overlay);var id=getElementLabel($overlay.parent()),propertiesMap=$target.text(),options=$.extend({},$overlay.data("VMD").options);if(options.easing==="swing")delete options.easing;if(options.delay==0)delete options.delay;delete options.loop;delete options.begin;delete options.complete;options=objectToString(options);console.log('$("'+id+'").velocity('+propertiesMap+", "+options+");")}else{var $modal=$("<modal></modal>");$modal.css({position:"absolute",left:"50%",marginLeft:"-6rem",width:"12rem",minHeight:"5rem",backgroundColor:"white",borderRadius:"3px",boxShadow:"0px 0px 3px 0px rgba(50, 50, 65, 0.5)",padding:"0.6rem 0.5rem 0.5rem 0.5rem",opacity:"0.975"});var $key=$("<span></span>");$key.attr("name","key").css({position:"absolute",top:0,right:0,padding:"0.15rem 0.4rem 0.10rem 0.4rem",fontSize:"0.5rem",textTransform:"uppercase",color:"#fff",textShadow:"0px 0px 3px rgb(25, 25, 50), 0px 0px 5px rgb(25, 25, 50), 0px 0px 8px rgb(25, 25, 50)",zIndex:1,cursor:"default",userSelect:"none"}).html(String.fromCharCode(alphabetIndex));var $label=$("<div></div>");$label.html(getElementLabel($target)).css({cursor:"default",color:"#5a96df",textAlign:"center",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.5rem"}).appendTo($modal);$("<code></code>").attr("name","propertiesMap").css({display:"block",fontSize:"0.8rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)",marginBottom:"0.4rem"}).prop("contenteditable",true).prop("spellcheck",false).html(propertiesMapDefault).appendTo($modal);var $controls=$("<table></table>");$controls.attr("name","options").appendTo($modal);var $duration=$("<input type='range' />").attr({name:"duration",min:"100",max:"4000",value:DURATION_DEFAULT,step:"50"}).css({width:"6.5rem"}).wrap("<td />").parent().add("<td style='cursor: default; text-align: right; width: 100%;'>"+DURATION_DEFAULT+"ms</td>").wrapAll("<tr></tr>").parent().appendTo($controls);var $delay=$("<input type='range' />").attr({name:"delay",min:"0",max:"2000",value:DELAY_DEFAULT,step:"25"}).css({width:"6.5rem"}).wrap("<td />").parent().add("<td style='cursor: default; text-align: right; width: 100%;'>"+DELAY_DEFAULT+"ms</td>").wrapAll("<tr></tr>").parent().appendTo($controls);var $easing=$("<select></select>").attr("name","easing").css({backgroundColor:"transparent",border:"none",width:"6.5rem",fontSize:"0.85rem"}).wrap("<td />").parent();var $easingArray=$("<code></code>").attr("name","easingArray").css({display:"none",fontSize:"0.5rem",fontFamily:"monospace",background:"rgb(50, 65, 65)",padding:"0.35rem",textAlign:"center",color:"#fff",textShadow:"0px 0px 1px rgb(50, 50, 50)"}).prop({contenteditable:"true",spellcheck:"false"}).wrap("<td />").parent();$easing.add($easingArray).wrapAll("<tr></tr>").parent().appendTo($controls);$("<option></option>").attr({"data-array":"true",value:"[500,20]"}).html("spring physics...").appendTo($easing.children());$("<option></option>").attr({"data-array":"true",value:"[.25,1,.25,1]"}).html("cubic bezier...").appendTo($easing.children());$("<option></option>").attr({"data-array":"true",value:"[ 4 ]"}).html("step...").appendTo($easing.children());$.each($.Velocity.Easings,function(name){$("<option></option>").attr({name:name,value:name}).prop({selected:name===EASING_DEFAULT}).html(name).appendTo($easing.children())});var $overlay=$("<overlay></overlay>").attr("id","overlay-"+alphabetIndex).css({width:"100%",left:"100%",top:0,left:0,position:"absolute",zIndex:10001}).addClass("VMD").data("VMD",{mouse:"enter",propertiesMap:{},options:{duration:DURATION_DEFAULT,delay:DELAY_DEFAULT,easing:EASING_DEFAULT,loop:false,begin:function(elements){$.each(elements,function(i,element){clearElementStyles(element)});$(this).find("overlay.VMD code[name='propertiesMap']").velocity("stop",true).velocity({color:INDICATOR_COLOR},75).velocity("reverse")},complete:function(elements){var $this=$(this),propertiesMap=$this.find("overlay.VMD").data("VMD").propertiesMap,options=$this.find("overlay.VMD").data("VMD").options;if(options.loop===true&&typeof propertiesMap==="string"){$.each(elements,function(i,element){$(this).velocity(propertiesMap,options)})}}}}).append($key).appendTo($target).velocity("fadeIn","fast");if($overlay.parent().css("position")==="static"){$overlay.parent().css("position","relative")}}})});
